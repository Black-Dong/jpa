# JPA-day3-onetomany

## 学习JPA的第三天 : 多表操作，复杂查询

> 一对多操作
>> 案例：客户和联系人的案例（一对多关系）  
>>> 客户：一家公司  
>>> 联系人：这家公司的员工  
>>>> 一个客户可以具有多个联系人  
>>>> 一个联系人从属于一家公司
>>
>> 分析步骤
>>> 明确表关系
>>>> 一对多关系
>>>
>>> 确定表关系（描述 外键|中间表）
>>>> 主表：客户表  
>>>> 从表：联系人表（再从表上添加外键）
>>>
>>> 编写实体类，在实体类中描述表关系（包含关系）
>>>> 客户：在客户的实体类中包含一个联系人的集合(推荐Set集合)  
>>>> 联系人：在联系人的实体类中包含一个客户的对象
>>>
>>> 配置映射关系
>>>> 使用jpa注解配置一对多映射关系
>>
>> 级联
>>> 操作一个对象的同时操作他的关联对象  
>>> 
>>> 级联操作：
>>>> 需要区分操作主体  
>>>> 需要在操作主体的实体类上，添加级联属性（需要添加到多表映射关系的注解上）  
>>>> cascade（配置级联）
>>>
>>> 级联添加
>>>> 案例：当我保存一个客户的同时保存联系人
>>>
>>> 级联删除
>>>> 案例：当我删除一个客户的同时删除此客户的所有联系人